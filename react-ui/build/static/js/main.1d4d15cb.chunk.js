(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{109:function(e,t,a){},207:function(e,t,a){e.exports=a(406)},218:function(e,t,a){},399:function(e,t,a){},400:function(e,t,a){},401:function(e,t,a){},402:function(e,t,a){},403:function(e,t,a){},406:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(42),o=a.n(s),c=a(11),i=a(12),l=a(14),u=a(13),h=a(15),p=a(9),d=a(33),m=a(70);var v=a(6),f=a.n(v);function g(e){return{type:"SET_LOGGED_IN",loggedIn:e}}function E(e){return{type:"SET_TOKEN",token:e}}function b(e){return{type:"SET_USER_CREDENTIALS",userName:e}}function w(e,t){t.history.push("/"+e)}a(109);var O=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).login=function(){var e,t=a.state,n=t.email,r=t.password,s=a.props.dispatch;""!==n&&""!==r&&s((e={password:r,email:n},function(t){var a,n,r,s;return f.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,f.a.awrap(fetch("/api/users/authenticate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}));case 3:return a=o.sent,o.next=6,f.a.awrap(a.json());case 6:return n=o.sent,r=n.token,s=n.user,o.next=11,f.a.awrap(t(E(r)));case 11:return o.next=13,f.a.awrap(t(b(s.name)));case 13:return o.next=15,f.a.awrap(t(g(!0)));case 15:o.next=20;break;case 17:o.prev=17,o.t0=o.catch(0),console.error(o.t0);case 20:case"end":return o.stop()}}),null,null,[[0,17]])}))},a.onChange=function(e){a.setState(Object(m.a)({},e.target.name,e.target.value))},a.state={email:"",password:""},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"login-container"},r.a.createElement("input",{value:this.state.email,placeholder:"Email",name:"email",onChange:this.onChange}),r.a.createElement("input",{value:this.state.password,type:"password",placeholder:"password",name:"password",onChange:this.onChange}),r.a.createElement("button",{onClick:function(){return e.login()}},"Login"),r.a.createElement("div",{className:"on-hover",onClick:function(){w("register",e.props)}},"Register"))}}]),t}(n.Component),k=Object(d.f)(Object(p.b)((function(e){return{}}))(O)),j=(a(218),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleFileUpload=function(e){var t=e.target.files[0],a=new FileReader;a.onloadend=function(e){var t=new Image;t.src=e.target.result,t.onload=function(e){var a=document.getElementById("canvas");t.width=a.width,t.height=a.height;var n=a.getContext("2d");n.clearRect(0,0,a.width,a.height),n.drawImage(t,0,0,t.width,t.height)}},a.readAsDataURL(t)},a.state={loadingData:!0},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"images-container"},r.a.createElement("canvas",{id:"canvas",ref:"canvas",width:280,height:280}),r.a.createElement("input",{type:"file",onChange:function(t){return e.handleFileUpload(t)},accept:"image/x-png,image/gif,image/jpeg"}))}}]),t}(n.Component)),y=Object(d.f)(Object(p.b)((function(e){return{}}))(j));function x(e){return{type:"SET_WEATHER",weather:e}}function T(e){return{type:"SET_NEWS",news:e}}var C=function(e){var t={};return e.forEach((function(e){void 0===t[e.clothe]?t[e.clothe]={d:1}:t[e.clothe].d++})),t},S=a(54),N=(a(399),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={loadingData:!0},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.news.news,t=e.title,a=e.description;return r.a.createElement("div",{id:"news-container"},r.a.createElement("h3",{className:"absolute-top-left"},"News"),r.a.createElement("div",{id:"news-container-image"}),r.a.createElement("h3",{className:"big"},t),r.a.createElement("div",null,a))}}]),t}(n.Component)),_=Object(d.f)(Object(p.b)((function(e){return{news:e.news}}))(N));a(400);var I=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).onChange=function(e){a.setState({task:e.target.value})},a.addTask=function(){var e=a.props.dispatch;""!==a.state.task&&(e({type:"ADD_TASK",task:a.state.task}),a.setState({task:""}))},a.removeTask=function(e){(0,a.props.dispatch)({type:"REMOVE_TASK",taskId:e})},a.state={loadingData:!0,task:""},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.tasks.tasks,a=[];return t.forEach((function(t,n){a.push(r.a.createElement("div",{key:n,onClick:function(){e.removeTask(n)}},t))})),console.log(a),r.a.createElement("div",{id:"tasks-container"},r.a.createElement("h3",{className:"absolute-top-left"},"Tasks"),a,r.a.createElement("input",{value:this.state.task,onChange:function(t){return e.onChange(t)}}),r.a.createElement("button",{onClick:function(){return e.addTask()}},"Add Task"))}}]),t}(n.Component),B=Object(d.f)(Object(p.b)((function(e){return{tasks:e.tasks}}))(I)),R=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).onChange=function(e){a.setState(Object(m.a)({},e.target.name,e.target.value))},a.register=function(){var e,t=a.state,n=t.email,r=t.password,s=t.username,o=a.props.dispatch;""!==n&&""!==r&&""!==s&&o((e={password:r,email:n,name:s},function(t){var a,n,r,s;return f.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,f.a.awrap(fetch("/api/users/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}));case 3:return a=o.sent,console.log(a),o.next=7,f.a.awrap(a.json());case 7:return n=o.sent,r=n.token,s=n.user,o.next=12,f.a.awrap(t(E(r)));case 12:return o.next=14,f.a.awrap(t(b(s.name)));case 14:return o.next=16,f.a.awrap(t(g(!0)));case 16:o.next=21;break;case 18:o.prev=18,o.t0=o.catch(0),console.error(o.t0);case 21:case"end":return o.stop()}}),null,null,[[0,18]])}))},a.state={username:"",email:"",password:""},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"login-container"},r.a.createElement("input",{value:this.state.username,placeholder:"Username",name:"username",onChange:this.onChange}),r.a.createElement("input",{value:this.state.email,placeholder:"Email",name:"email",onChange:this.onChange}),r.a.createElement("input",{value:this.state.password,type:"password",placeholder:"Password",name:"password",onChange:this.onChange}),r.a.createElement("button",{onClick:function(){e.register()}},"Register"),r.a.createElement("div",{className:"on-hover",onClick:function(){w("login",e.props)}},"Login"))}}]),t}(n.Component),D=Object(d.f)(Object(p.b)((function(e){return{}}))(R)),A=(a(401),function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"thumbnail-container",onClick:function(){return e.props.linkTo()}},r.a.createElement("div",{id:"thumbnail-container-header"},r.a.createElement("h3",null,this.props.header)),r.a.createElement("div",{id:"thumbnail-container-body"},this.props.body))}}]),t}(n.Component)),L=(a(402),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).weatherBody=function(){var e,t=a.props.weather.weather,n=t.temperature,s=t.weatherIdCode;switch(s){case 800===s:e="Sun_icon.png";break;case s>499&&s<532:e="Rain_icon.png";break;default:e="Clouds_icon.png"}return e="./assets/"+e,r.a.createElement("div",null,r.a.createElement("div",{className:"cloud"}),r.a.createElement("div",{id:"temperature"},r.a.createElement("div",null,Math.round(n)),r.a.createElement("div",null,"degrees")),r.a.createElement("div",{id:"weather-location"}," London "))},a.newsBody=function(){var e=a.props.news.news,t=e.title,n=e.description;return console.log("title"+t),console.log("desc"+n),r.a.createElement("div",{className:"listed"},r.a.createElement("h3",null,t),r.a.createElement("div",null,n))},a.tasksBody=function(){for(var e=a.props.tasks.tasks,t=[],n=0;n<e.length&&n<3;n++)t.push(r.a.createElement("div",null,e[n]));return r.a.createElement("div",{className:"listed"},t)},a.sportsBody=function(){return r.a.createElement("div",{className:"listed"},r.a.createElement("h3",null,"Woo Sports"),r.a.createElement("div",null,"Woo sports descriptions"))},a.clothesBody=function(){var e=a.props.clothes.clothes,t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push({name:n,value:e[n].d});return r.a.createElement(S.b,{width:300,height:300},r.a.createElement(S.a,{dataKey:"value",data:t,cx:145,cy:90,innerRadius:40,outerRadius:80,fill:"#82ca9d"}),r.a.createElement(S.c,null))},a.state={loadingData:!0},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e;return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.props.dispatch,t.t0=f.a,t.t1=Promise,t.next=5,f.a.awrap(e((function(e){var t,a,n;return f.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=4,f.a.awrap(fetch("http://api.openweathermap.org/data/2.5/weather?q=London&appid=".concat("d0a10211ea3d36b0a6423a104782130e"),{method:"GET"}));case 4:return t=r.sent,r.next=7,f.a.awrap(t.json());case 7:a=r.sent,n={temperature:a.main.temp-273.15,weatherIdCode:a.weather[0].id},e(x(n)),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(0),console.error(r.t0);case 15:case"end":return r.stop()}}),null,null,[[0,12]])})));case 5:return t.t2=t.sent,t.next=8,f.a.awrap(e((function(e){var t,a,n,r,s,o,c,i,l;return f.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,f.a.awrap(fetch("https://cors-anywhere.herokuapp.com/http://feeds.bbci.co.uk/news/rss.xml"));case 3:return t=u.sent,u.next=6,f.a.awrap(t.text());case 6:a=u.sent,n=new DOMParser,r=n.parseFromString(a,"text/xml"),s=r.getElementsByTagName("item")[0],o=r.getElementsByTagName("image")[0],c=o.getElementsByTagName("url")[0].textContent,i=s.getElementsByTagName("title")[0].textContent,l=s.getElementsByTagName("description")[0].textContent,e(T({imageUrl:c,title:i,description:l})),u.next=21;break;case 18:u.prev=18,u.t0=u.catch(0),console.error(u.t0);case 21:case"end":return u.stop()}}),null,null,[[0,18]])})));case 8:return t.t3=t.sent,t.next=11,f.a.awrap(e((function(e){var t,a;return f.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,f.a.awrap(fetch("https://cors-anywhere.herokuapp.com/https://therapy-box.co.uk/hackathon/clothing-api.php?username=swapnil"));case 3:return t=n.sent,n.next=6,f.a.awrap(t.json());case 6:a=n.sent,e({type:"SET_CLOTHES_SUMMARY",clothes:C(a.payload)}),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),console.error(n.t0);case 13:case"end":return n.stop()}}),null,null,[[0,10]])})));case 11:return t.t4=t.sent,t.t5=[t.t2,t.t3,t.t4],t.t6=t.t1.all.call(t.t1,t.t5),t.next=16,t.t0.awrap.call(t.t0,t.t6);case 16:this.setState({loadingData:!1});case 17:case"end":return t.stop()}}),null,this)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"dashboard-container"},r.a.createElement("h1",null,"Good day, ",this.props.userName),this.state.loadingData?r.a.createElement("div",null,"Loading data"):r.a.createElement("div",{id:"dashboard-thumbnail-container"},r.a.createElement("div",{className:"flex-row"},r.a.createElement(A,{header:"weather",body:this.weatherBody(),linkTo:function(){return console.log("news")}}),r.a.createElement(A,{header:"news",body:this.newsBody(),linkTo:function(){return w("news",e.props)}}),r.a.createElement(A,{header:"sport",body:this.sportsBody(),linkTo:function(){return console.log("news")}})),r.a.createElement("div",{className:"flex-row"},r.a.createElement(A,{header:"photos",linkTo:function(){return w("images",e.props)}}),r.a.createElement(A,{header:"tasks",body:this.tasksBody(),linkTo:function(){return w("tasks",e.props)}}),r.a.createElement(A,{header:"clothes",body:this.clothesBody(),linkTo:function(){return console.log("news")}}))))}}]),t}(n.Component)),U=Object(d.f)(Object(p.b)((function(e){var t=e.login,a=e.weather,n=e.news,r=e.clothes,s=e.tasks;return{userName:t.userName,weather:a,news:n,clothes:r,tasks:s}}))(L)),M=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.location;return r.a.createElement("main",null,this.props.loggedIn?r.a.createElement(d.c,{location:e},r.a.createElement(d.a,{exact:!0,path:"/images",component:y}),r.a.createElement(d.a,{exact:!0,path:"/news",component:_}),r.a.createElement(d.a,{exact:!0,path:"/tasks",component:B}),r.a.createElement(d.a,{exact:!0,path:"/*",component:U})):r.a.createElement(d.c,{location:e},r.a.createElement(d.a,{exact:!0,path:"/register",component:D}),r.a.createElement(d.a,{exact:!0,path:"/*",component:k})))}}]),t}(n.Component),G=Object(d.f)(Object(p.b)((function(e){return{loggedIn:e.login.loggedIn}}))(M));a(403);var K=Object(d.f)(Object(p.b)((function(e){return{loggedIn:e.login.loggedIn}}))((function(e){var t=e.dispatch;return r.a.createElement("div",{className:"App"},e.loggedIn&&r.a.createElement("div",{id:"absolute-top-right",onClick:function(){return t({type:"LOGOUT"})}},"Logout"),r.a.createElement(G,null))})));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var P=a(23),W=a(22),H=a(175),F=a(102),J=a(176),V=a(177),Y=a.n(V);var q=a(103);var $=Object(P.c)({photos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{photos:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PHOTOS":var a=t.payload;return Object.assign({},e,{photos:a});default:return e}},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loggedIn:!1,userName:"",token:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOGGED_IN":var a=t.loggedIn;return Object.assign({},e,{loggedIn:a});case"SET_TOKEN":var n=t.token;return Object.assign({},e,{token:n});case"SET_USER_CREDENTIALS":var r=t.userName;return Object.assign({},e,{userName:r});default:return e}},weather:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{weather:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_WEATHER":var a=t.weather;return Object.assign({},e,{weather:a});default:return e}},clothes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clothes:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CLOTHES_SUMMARY":var a=t.clothes;return Object.assign({},e,{clothes:a});default:return e}},news:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{news:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_NEWS":var a=t.news;return Object.assign({},e,{news:a});default:return e}},tasks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{tasks:["task description","task description","task description"]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TASK":var a=t.task,n=Object(q.a)(e.tasks);return n.push(a),Object.assign({},e,{tasks:n});case"REMOVE_TASK":var r=t.taskId,s=Object(q.a)(e.tasks),o=[];return s.forEach((function(e,t){r!==t&&o.push(e)})),Object.assign({},e,{tasks:o});default:return e}}}),z=function(e,t){return"LOGOUT"===t.type&&(e=void 0),$(e,t)},Q=[];Q.push(H.a);var X={key:"root",storage:Y.a},Z=Object(F.a)(X,z),ee=Object(P.d)(Z,P.a.apply(void 0,Q)),te=Object(F.b)(ee);o.a.render(r.a.createElement(p.a,{store:ee},r.a.createElement(J.a,{loading:null,persistor:te},r.a.createElement(W.a,null,r.a.createElement(d.a,{component:K})))),document.getElementById("root"))}},[[207,1,2]]]);
//# sourceMappingURL=main.1d4d15cb.chunk.js.map